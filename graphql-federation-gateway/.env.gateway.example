# GraphQL Federation Gateway Configuration
# Copy this file to .env and adjust values for your environment

# General Configuration
ENVIRONMENT=development

# Server Configuration
SERVER_PORT=4000
SERVER_HOST=0.0.0.0
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=60s
SERVER_SHUTDOWN_TIMEOUT=30s
SERVER_ENABLE_PLAYGROUND=true
SERVER_ENABLE_INTROSPECTION=true
SERVER_ENABLE_CORS=true
SERVER_CORS_ORIGINS=*

# Federated Service URLs
PEOPLE_ORGS_SERVICE_URL=http://localhost:8081/graphql
ECOMMERCE_SERVICE_URL=http://localhost:8082/graphql  
PRODUCTS_SERVICE_URL=http://localhost:8084/graphql
ACCOUNTING_SERVICE_URL=http://localhost:8083/graphql
ORDERS_SERVICE_URL=http://localhost:8085/graphql
INVOICES_SERVICE_URL=http://localhost:8086/graphql
SHIPMENTS_SERVICE_URL=http://localhost:8087/graphql
HR_SERVICE_URL=http://localhost:8088/graphql
WORK_EFFORT_SERVICE_URL=http://localhost:8089/graphql
ANALYTICS_SERVICE_URL=http://localhost:8090/graphql

# Service Timeouts and Retries
PEOPLE_ORGS_TIMEOUT=30s
ECOMMERCE_TIMEOUT=30s
PRODUCTS_TIMEOUT=30s
ACCOUNTING_TIMEOUT=30s
ORDERS_TIMEOUT=30s
INVOICES_TIMEOUT=30s
SHIPMENTS_TIMEOUT=30s
HR_TIMEOUT=30s
WORK_EFFORT_TIMEOUT=30s
ANALYTICS_TIMEOUT=30s

PEOPLE_ORGS_RETRIES=3
ECOMMERCE_RETRIES=3
PRODUCTS_RETRIES=3
ACCOUNTING_RETRIES=3
ORDERS_RETRIES=3
INVOICES_RETRIES=3
SHIPMENTS_RETRIES=3
HR_RETRIES=3
WORK_EFFORT_RETRIES=3
ANALYTICS_RETRIES=3

# Service Enable/Disable
PEOPLE_ORGS_ENABLED=true
ECOMMERCE_ENABLED=true
PRODUCTS_ENABLED=true
ACCOUNTING_ENABLED=true
ORDERS_ENABLED=true
INVOICES_ENABLED=true
SHIPMENTS_ENABLED=true
HR_ENABLED=true
WORK_EFFORT_ENABLED=true
ANALYTICS_ENABLED=false

# Authentication Configuration
JWT_SECRET=your-jwt-secret-here
JWT_ISSUER=erp-microservices
JWT_AUDIENCE=erp-federation-gateway
TOKEN_VALIDATION=true
AUTH_SERVICE_URL=http://localhost:8080
PUBLIC_KEY_URL=http://localhost:8080/.well-known/jwks.json
TOKEN_CACHE_DURATION=5m

# Monitoring & Observability
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_TRACING=true
TRACING_ENDPOINT=http://localhost:14268/api/traces
HEALTH_CHECK_PATH=/health
LOG_LEVEL=info
LOG_FORMAT=json
REQUEST_LOGGING=true
SLOW_QUERY_THRESHOLD=1s

# Federation Configuration
SCHEMA_POLLING_INTERVAL=30s
QUERY_PLAN_CACHE_SIZE=1000
QUERY_PLAN_CACHE_TTL=5m
MAX_QUERY_COMPLEXITY=1000
QUERY_TIMEOUT=30s
ENABLE_QUERY_VALIDATION=true
ENABLE_COMPLEXITY_ANALYSIS=true
BATCHING_ENABLED=true
BATCH_TIMEOUT=16ms
MAX_BATCH_SIZE=100